<!DOCTYPE html>
<html>
<head>
<title>Drawimage example</title>

 
</head>
<body>
 <h1>DrawImage Example</h1>
  <h3>The image will be displayed full size, broken into four pieces, and twice the size.</h3>
 <div><canvas id="MyCanvas" width="600" height="500">This browser or document mode doesn't support canvas</canvas></div>
<img id="pix" src="http://go.microsoft.com/fwlink/?LinkID=199028" />
  <canvas id="canvas" width="160" height="160" />
  <script>
    var canvas = document.getElementById("MyCanvas");
    if (canvas.getContext) {
      var image = document.getElementById("pix");
      //  Do this once image loads
      image.addEventListener("load", function () {
          var ctx = canvas.getContext("2d");                // Get the context.
          ctx.clearRect(0, 0, canvas.width, canvas.height);    // Clear the last image, if it exists.

          // Straight draw. 
          ctx.drawImage(image, 1, 1);
          ctx.fillStyle = "black";
          ctx.fillText("Original", 5, 115); // label the original
          // Stretch the image a bit.
          ctx.drawImage(image, 125, 125, 200, 200);
          // Draw it in pieces.
          ctx.drawImage(image, 1, 1, image.width / 2, image.height / 2, 50, 125, 50, 50);
          ctx.drawImage(image, 1, image.height / 2, image.width / 2, image.height / 2, 50, 275, 50, 50);
          ctx.drawImage(image, image.width / 2, 1, image.width / 2, image.height / 2, 350, 125, 50, 50);
          ctx.drawImage(image, image.width / 2, image.height / 2, image.width / 2, image.height / 2, 350, 275, 50, 50);
          image.style.display = "none"; // remove original image
      },false);
    }
  </script>
<script>
    window.onload = init;

// As an optimization, make "context" a global variable that is only set once.
var context;

function init(){
  context = document.getElementById('canvas').getContext('2d');
  window.requestAnimationFrame(draw);
} // init

function draw() {
  // Save the canvas state.
  context.save();

  context.clearRect(0, 0, 160, 160);

  // centers the image on the canvas
  context.translate(80, 80);

  // Rotate moves the spiraling circle around the canvas in a large orbit.
  var time = new Date();
  context.rotate( ((2*Math.PI)/60)*time.getSeconds() + ((2*Math.PI)/60000)*time.getMilliseconds() );

  // Translate determines the location of the small circle.
  context.translate(50, 0);

  // Rotate causes the circle to spiral as it circles around the canvas.
  context.rotate( ((2*Math.PI)/6)*time.getSeconds() + ((2*Math.PI)/6000)*time.getMilliseconds() );

  // determines the size of the loop
  context.translate(0, 5);

  // This draws the circle
  context.beginPath();
  context.arc(5, 5, 4, 0, Math.PI*2, true);
  context.stroke();

  // Restores the canvas to the previous state
  context.restore();
  window.requestAnimationFrame(draw);
}  // draw

</script>
</body>
</html> 